/* =========================================================
   Mermaid Panzoom - MINIMAL CSS (No wrapper styling)
   ========================================================= */

/* Minimal wrapper - NO BORDERS, NO BACKGROUND */
.mermaid-panzoom-wrapper {
    position: relative;
    width: 100%;
    margin: 0.5em 0; /* Minimal margin only */
    min-height: 300px;
    overflow: hidden;
}

/* Container fills wrapper */
.mermaid-panzoom-wrapper .mermaid-container {
    width: 100%;
    height: 100%;
    min-height: 300px;
}

/* SVG fills container */
.mermaid-panzoom-wrapper svg {
    display: block;
    width: 100%;
    height: 100%;
    min-height: 300px;
}

/* =========================================================
   SVG Controls (Circles, vertical stack)
   ========================================================= */

.mermaid-control-bg {
    fill: rgba(255, 255, 255, 0.85);
    stroke: rgba(0, 0, 0, 0.15);
    stroke-width: 1;
    cursor: pointer;
    transition: all 0.2s ease;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.mermaid-control-bg:hover {
    fill: rgba(255, 255, 255, 1);
    stroke-width: 1.5;
    filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.15));
}

.mermaid-control-icon {
    pointer-events: none;
}

/* Dark theme adjustments */
.dark-theme .mermaid-control-bg,
[data-md-color-scheme="slate"] .mermaid-control-bg,
.navy .mermaid-control-bg,
.coal .mermaid-control-bg,
.ayu .mermaid-control-bg {
    fill: rgba(30, 41, 59, 0.85);
    stroke: rgba(255, 255, 255, 0.2);
}

.dark-theme .mermaid-control-bg:hover,
[data-md-color-scheme="slate"] .mermaid-control-bg:hover,
.navy .mermaid-control-bg:hover,
.coal .mermaid-control-bg:hover,
.ayu .mermaid-control-bg:hover {
    fill: rgba(30, 41, 59, 1);
}

.dark-theme .mermaid-control-icon,
[data-md-color-scheme="slate"] .mermaid-control-icon,
.navy .mermaid-control-icon,
.coal .mermaid-control-icon,
.ayu .mermaid-control-icon {
    stroke: #e2e8f0;
}

/* =========================================================
   Fullscreen Mode - FIXED THEME ISSUE
   ========================================================= */

/* Apply fullscreen styles to wrapper AND html/body for theme consistency */
.mermaid-panzoom-wrapper:fullscreen,
.mermaid-panzoom-wrapper:-webkit-full-screen,
.mermaid-panzoom-wrapper:-moz-full-screen,
.mermaid-panzoom-wrapper:-ms-fullscreen {
    width: 100% !important;
    height: 100% !important;
    background: inherit !important; /* Inherit theme background */
    margin: 0 !important;
    padding: 0 !important;
    border: none !important;
}

/* Ensure SVG expands in fullscreen */
.mermaid-panzoom-wrapper:fullscreen .mermaid-container,
.mermaid-panzoom-wrapper:-webkit-full-screen .mermaid-container,
.mermaid-panzoom-wrapper:-moz-full-screen .mermaid-container,
.mermaid-panzoom-wrapper:-ms-fullscreen .mermaid-container {
    width: 100vw !important;
    height: 100vh !important;
}

/* Make controls larger in fullscreen */
.mermaid-panzoom-wrapper:fullscreen .mermaid-control-bg,
.mermaid-panzoom-wrapper:-webkit-full-screen .mermaid-control-bg,
.mermaid-panzoom-wrapper:-moz-full-screen .mermaid-control-bg,
.mermaid-panzoom-wrapper:-ms-fullscreen .mermaid-control-bg {
    r: 20px !important; /* Larger in fullscreen */
}

/* =========================================================
   Responsive adjustments
   ========================================================= */

@media (max-width: 768px) {
    .mermaid-panzoom-wrapper {
        min-height: 250px;
        margin: 0.25em 0;
    }

    /* Smaller controls on mobile */
    .mermaid-control-bg {
        r: 12px !important;
    }
}

/* Print styles - hide controls */
@media print {
    .mermaid-controls {
        display: none !important;
    }
}
