/* =========================================================
   Mermaid Panzoom - MINIMAL CSS (No wrapper styling)
   ========================================================= */

/* Minimal wrapper - NO BORDERS, NO BACKGROUND */
.mermaid-panzoom-wrapper {
    position: relative;
    width: 100%;
    margin: 0.5em 0; /* Minimal margin only */
    min-height: 400px;
    overflow: hidden;
}

/* Container fills wrapper */
.mermaid-panzoom-wrapper .mermaid-container {
    width: 100%;
    height: 100%;
    min-height: 300px;
}

/* SVG fills container */
.mermaid-panzoom-wrapper svg {
    display: block;
    width: 100%;
    height: 100%;
    min-height: 300px;
}

/* =========================================================
   SVG Controls (Circles, vertical stack)
   ========================================================= */

.mermaid-control-bg {
    fill: var(--mermaid-control-bg, rgba(255, 255, 255, 0.85));
    stroke: var(--mermaid-control-border, rgba(0, 0, 0, 0.15));
    stroke-width: 1;
    cursor: pointer;
    transition: all 0.2s ease;
    filter: var(
        --mermaid-control-shadow,
        drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))
    );
}

.mermaid-control-bg:hover {
    fill: var(
        --mermaid-control-hover-bg,
        var(--mermaid-control-bg, rgba(255, 255, 255, 1))
    );
    stroke: var(
        --mermaid-control-hover-border,
        var(--mermaid-control-border, rgba(0, 0, 0, 0.25))
    );
    stroke-width: 1.5;
    filter: var(
        --mermaid-control-hover-shadow,
        drop-shadow(0 3px 6px rgba(0, 0, 0, 0.15))
    );
}

.mermaid-control-icon {
    pointer-events: none;
    stroke: var(--mermaid-control-icon, #374151);
}

/* =========================================================
   Fullscreen Mode - FIXED THEME ISSUE
   ========================================================= */

/* Apply fullscreen styles to wrapper AND html/body for theme consistency */
.mermaid-panzoom-wrapper:fullscreen,
.mermaid-panzoom-wrapper:-webkit-full-screen,
.mermaid-panzoom-wrapper:-moz-full-screen,
.mermaid-panzoom-wrapper:-ms-fullscreen {
    width: 100% !important;
    height: 100% !important;
    background: var(--mermaid-fullscreen-bg, inherit) !important;
    margin: 0 !important;
    padding: 0 !important;
    border: none !important;
}

/* Ensure SVG expands in fullscreen */
.mermaid-panzoom-wrapper:fullscreen .mermaid-container,
.mermaid-panzoom-wrapper:-webkit-full-screen .mermaid-container,
.mermaid-panzoom-wrapper:-moz-full-screen .mermaid-container,
.mermaid-panzoom-wrapper:-ms-fullscreen .mermaid-container {
    width: 100vw !important;
    height: 100vh !important;
}

/* Make controls larger in fullscreen */
.mermaid-panzoom-wrapper:fullscreen .mermaid-control-bg,
.mermaid-panzoom-wrapper:-webkit-full-screen .mermaid-control-bg,
.mermaid-panzoom-wrapper:-moz-full-screen .mermaid-control-bg,
.mermaid-panzoom-wrapper:-ms-fullscreen .mermaid-control-bg {
    r: 20px !important; /* Larger in fullscreen */
}

/* =========================================================
   Responsive adjustments
   ========================================================= */

@media (max-width: 768px) {
    .mermaid-panzoom-wrapper {
        min-height: 250px;
        margin: 0.25em 0;
    }

    /* Smaller controls on mobile */
    .mermaid-control-bg {
        r: 12px !important;
    }
}

/* Print styles - hide controls */
@media print {
    .mermaid-controls {
        display: none !important;
    }
}
